<mat-card class="hero-card">
  <mat-card-header>
    <div mat-card-avatar class="example-header-image">
      <img class="hero-card__avatar" src="{{hero.avatarURL}}" alt="{{hero.name}} avatar">
    </div>

    <mat-card-title *ngIf="upgradeable; else notUpgradeableTitle">
      {{hero.name}} - {{hero.lvlCurrent}}lvl
    </mat-card-title>
    <ng-template #notUpgradeableTitle><mat-card-title>{{hero.name}}</mat-card-title></ng-template>

    <mat-card-subtitle>{{faction[hero.faction]}}</mat-card-subtitle>

    <app-ascension-badge *ngIf="upgradeable" class="hero-card__ascension-badge" [ascensionLvl]="hero.ascensionLvl"></app-ascension-badge>
  </mat-card-header>
  <mat-card-content>
    <p>
      atk: {{hero.atk}}
      def: {{hero.def}}
      <br>
      description: {{hero?.description}}
    </p>
  </mat-card-content>
  <mat-card-actions>
    <button *ngIf="ableToBuy" (click)="buyCharacter()" mat-raised-button>
      <mat-icon aria-hidden="false" aria-label="Buy character icon">shop</mat-icon>
    </button>

    <button *ngIf="canBeLeveledUp" (click)="levelUp()" mat-raised-button>
      <mat-icon aria-hidden="false" aria-label="Buy character icon">upgrade</mat-icon>
    </button>

    <button (click)="starToggle()" [ngClass]="isStarred ? 'star-active' : ''" mat-raised-button >
      <mat-icon aria-hidden="false" aria-label="Star character icon">star</mat-icon>
    </button>

    <div>
      <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
        <mat-icon>more_vert</mat-icon>
      </button>

      <mat-menu #menu="matMenu">
        <button mat-menu-item>
          <mat-icon>insights</mat-icon>
          <span>Current CP : {{currentCP}}</span>
        </button>

        <button class="green" mat-menu-item>
          <mat-icon>face</mat-icon>
          <span>Obtained?</span>
        </button>
      </mat-menu>
    </div>
  </mat-card-actions>
</mat-card>
